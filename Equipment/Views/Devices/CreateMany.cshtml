@Scripts.Render("~/Scripts/knockout.js")
@Scripts.Render("~/Scripts/jQuery.validate.js")
@Scripts.Render("~/Scripts/CreateManyScript.js")
@{
    ViewBag.Title = "CreateMany";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>CreateMany</h2>

<form action='/someServerSideHandler'>
    <div class="input-group">
        <span class="input-group-addon">DeviceDictionaryId</span>
        @Html.DropDownList("DeviceDictionaryId", String.Empty)      
    </div>
    <div>
        <div class="input-group">
            <span class="input-group-addon">User</span>
            @Html.TextBox("User", "1", new { @class = "form-control", data_bind = "value:DeviceUser" })
        </div>
        <div class="input-group">
            <span class="input-group-addon">How many rows do you need?</span>
            @Html.TextBox("number", "1", new { @class = "form-control", data_bind = "value:number", valueUpdate = "afterkeydown" })
        </div>
    </div>
    <p>You have asked for <span data-bind='text: data().length'>&nbsp;</span> gift(s)</p>
    <table data-bind='visible: data().length > 0'>
        <thead>
            <tr>
                <th>DeviceSerialNumber</th>
                <th>Batch</th>
                <th />
            </tr>
        </thead>
        <tbody data-bind='foreach: data'>
            <tr>
                <td><input class="form-control required" id="EqName" name="EqName" data-bind='value: DeviceSerialNumber, uniqueName: true'  /></td>
                <td><input class="form-control required" required id="EqPrice" name="EqPrice" data-bind='value: Batch, uniqueName: true' /></td>
                <td><a href='#' data-bind='click: $root.removeGift'>Delete</a></td>
            </tr>
        </tbody>
    </table>
    <button data-bind='enable: data().length > 0' type='submit' class="btn btn-default">Submit</button>
</form>